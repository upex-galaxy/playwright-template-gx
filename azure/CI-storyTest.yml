trigger:
    - push
branches:
    # Ejecutar en todas las ramas excepto en QA y main
    exclude:
      - QA
      - main

pool:
    vmImage: 'ubuntu-latest'

steps:
    - task: NodeTool@0
      inputs:
        versionSpec: '16.x'
      displayName: 'ðŸ’¾Install Node.js'

    - run: |
        npm ci
      displayName: 'ðŸ’¿Install dependencies'

    - script: |
        npx playwright install --with-deps
      displayName: "ðŸ“¡Install Playwright Browsers"

    - script: |
        npx playwright test
      displayName: "ðŸ§ªRun Playwright Tests"